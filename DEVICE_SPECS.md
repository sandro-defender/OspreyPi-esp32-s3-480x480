# OspreyPi esp32-s3-48x48 Device Specifications

## Hardware Overview
- **MCU**: ESP32-S3 (16MB Flash, PSRAM)
- **Display**: 3.95" / 4.0" IPS TFT 480x480
- **Display Driver**: ST7701S (3-wire SPI + 16/18-bit RGB)
- **Touch Controller**: FT6336 (I2C)

## Pinout Configuration

### Display (ST7701S)
| Signal       | GPIO Pin | Note                  |
|--------------|----------|-----------------------|
| **CS**       | 45       | Chip Select           |
| **SCLK**     | 38       | SPI Clock             |
| **MOSI**     | 39       | SPI MOSI              |
| **DE**       | 47       | Data Enable           |
| **VSYNC**    | 21       | Vertical Sync         |
| **HSYNC**    | 14       | Horizontal Sync       |
| **PCLK**     | 48       | Pixel Clock (16MHz)   |
| **Backlight**| 13       | Init Freq: 1000Hz     |

### init_sequence:
      - [0xFF, 0x77, 0x01, 0x00, 0x00, 0x13]
      - [0xEF, 0x08]
      - [0xFF, 0x77, 0x01, 0x00, 0x00, 0x10]
      - [0xC0, 0x3B, 0x00]
      - [0xC1, 0x0B, 0x02]
      - [0xC2, 0x37, 0x02]
      - [0xCC, 0x10]
      - [0xB0, 0x00, 0x0F, 0x16, 0x0E, 0x11, 0x07, 0x09, 0x09, 0x08, 0x23, 0x05, 0x11, 0x0F, 0x28, 0x2D, 0x18]
      - [0xB1, 0x00, 0x0F, 0x16, 0x0E, 0x11, 0x07, 0x09, 0x08, 0x09, 0x23, 0x05, 0x11, 0x0F, 0x28, 0x2D, 0x18]
      - [0xFF, 0x77, 0x01, 0x00, 0x00, 0x11]
      - [0xB0, 0x4D]
      - [0xB1, 0x33]
      - [0xB2, 0x87]
      - [0xB5, 0x4B]
      - [0xB7, 0x8C]
      - [0xB8, 0x20]
      - [0xC1, 0x78]
      - [0xC2, 0x78]
      - [0xD0, 0x88]
      - [0xE0, 0x00, 0x00, 0x02]
      - [0xE1, 0x02, 0xF0, 0x00, 0x00, 0x03, 0xF0, 0x00, 0x00, 0x00, 0x44, 0x44]
      - [0xE2, 0x10, 0x10, 0x40, 0x40, 0xF2, 0xF0, 0x00, 0x00, 0xF2, 0xF0, 0x00, 0x00]
      - [0xE3, 0x00, 0x00, 0x11, 0x11]
      - [0xE4, 0x44, 0x44]
      - [0xE5, 0x07, 0xEF, 0xF0, 0xF0, 0x09, 0xF1, 0xF0, 0xF0, 0x03, 0xF3, 0xF0, 0xF0, 0x05, 0xED, 0xF0, 0xF0]
      - [0xE6, 0x00, 0x00, 0x11, 0x11]
      - [0xE7, 0x44, 0x44]
      - [0xE8, 0x08, 0xF0, 0xF0, 0xF0, 0x0A, 0xF2, 0xF0, 0xF0, 0x04, 0xF4, 0xF0, 0xF0, 0x06, 0xEE, 0xF0, 0xF0]
      - [0xEB, 0x00, 0x00, 0xE4, 0xE4, 0x44, 0x88, 0x40]
      - [0xEC, 0x78, 0x00]
      - [0xED, 0x20, 0xF9, 0x87, 0x76, 0x65, 0x54, 0x4F, 0xFF, 0xFF, 0xF4, 0x45, 0x56, 0x67, 0x78, 0x9F, 0x02]
      - [0xEF, 0x10, 0x0D, 0x04, 0x08, 0x3F, 0x1F]
      - [0x11]
      - delay 120ms
      - [0x29]

### RGB Data Bus
| Color Bit | GPIO Pin | Mapped As |
|-----------|----------|-----------|
| **R0**    | 17       | TFT_R0    |
| **R1**    | 16       | TFT_R1    |
| **R2**    | 15       | TFT_R2    |
| **R3**    | 7        | TFT_R3    |
| **R4**    | 6        | TFT_R4    |
| **G0**    | 46       | TFT_G0    |
| **G1**    | 3        | TFT_G1    |
| **G2**    | 20       | TFT_G2    |
| **G3**    | 19       | TFT_G3    |
| **G4**    | 8        | TFT_G4    |
| **G5**    | 18       | TFT_G5    |
| **B0**    | 0        | TFT_B0    |
| **B1**    | 12       | TFT_B1    |
| **B2**    | 11       | TFT_B2    |
| **B3**    | 10       | TFT_B3    |
| **B4**    | 9        | TFT_B4    |

### Touch Screen (FT6336)
| Signal | GPIO Pin | Note           |
|--------|----------|----------------|
| **SDA**| 5        | I2C Data       |
| **SCL**| 4        | I2C Clock      |
| **RST**| N/C (-1) | Not Connected  |
| **IRQ**| N/C (-1) | Not Connected  |

### Other
- **Flash Size**: 16MB
- **PSRAM**: Octal, 80MHz
- **UART0 TX**: 43
- **UART0 Rx**: 44
- **Buzzer**: 42
- **RS485/Modbus (Testing)**:
    - **TX**: 43 (Inverted)
    - **RX**: 44 (Inverted)
    - **EN**: 40 (Inverted)
    - *Note: These pins are unverified but suggested by schematic/board specs.*


